<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>parcel</title>
		<style>
			body {
	font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
h1, h2, h3 {
	font-weight: 400;
	margin-bottom: 0;
}
.remark-slide-content h1 { font-size: 3em; }
.remark-slide-content h2 { font-size: 2em; }
.remark-slide-content h3 { font-size: 1.6em; }
.footnote {
	position: absolute;
	bottom: 3em;
}
li p { line-height: 1.25em; }
.red { color: #fa0000; }
.large { font-size: 2em; }
a, a > code {
	color: rgb(249, 38, 114);
	text-decoration: none;
}
code {
	background: none repeat scroll 0 0 #F8F8FF;
  border: 1px solid #DEDEDE;
  border-radius: 3px 	;
  padding: 0 0.2em;
}
.remark-code, .remark-inline-code { font-family: "Bitstream Vera Sans Mono", "Courier", monospace; }
.remark-code-line-highlighted     { background-color: #373832; }
.pull-left {
	float: left;
	width: 47%;
}
.pull-right {
	float: right;
	width: 47%;
}
.pull-right ~ p {
	clear: both;
}
#slideshow .slide .content code {
	font-size: 0.8em;
}
#slideshow .slide .content pre code {
	font-size: 0.9em;
	padding: 15px;
}
.main-title, .title {
	background: #272822;
	color: #777872;
	text-shadow: 0 0 20px #333;
}
.title h1, .title h2, .main-title h1, .main-title h2 {
	color: #f3f3f3;
	line-height: 0.8em;
}
/* Custom */
.remark-code {
	display: block;
	padding: 0.5em;
	max-height: 600px;
	overflow: auto;
}

.remark-slide-content {position: relative;}
.remark-slide-content::after {position: absolute; right:-30px; bottom: -30px; z-index: 0;
	display: block; content: ' ';
	width: 300px; height: 300px;
	background: url('frontend.png') no-repeat 0 0;
	opacity: .3;
	transform: rotate(-30deg);
}
ul {line-height: 1.5;}
.remark-slide-content h1 { font-size: 2.5em; text-align: center; margin-top: 100px; white-space: nowrap; }
.remark-slide-content h2 { font-size: 2em; text-align: center; white-space: nowrap; }

table {
	border: 1px;
	border-color: #999;
}
img {
	width: 100%;
	height: 500px;
}
.hljs-default .hljs {
	display: block;
	padding: 0.5em;
	max-height: 500px;
	overflow: auto;
}

		</style>
	</head>
	<body>
		<textarea id="source">

		## Parcel

		`ä½œè€…`: **Devongovett**

		`Github`:  [parcel](https://github.com/parcel-bundler/parcel)

		`Medium`:  [medium](https://medium.com/@devongovett)

		`API`: [api](https://parceljs.org/)

		---

		å»å¹´çš„12æœˆä»½ï¼Œå‘å¸ƒäº†Parcel

		æ¨ªç©ºå‡ºä¸–çš„`Parcel`ï¼Œè¿™å‡ ä¸ªæœˆæ¥æˆä¸ºäº†å‰ç«¯åœˆçš„åˆä¸€å¤§çƒ­ç‚¹ï¼ŒgithubçŸ­çŸ­å‡ ä¸ªæœˆå°±è·å¾—äº†ä¸Šä¸‡çš„star.

		[ä½œè€…å‘å¸ƒå£°æ˜](https://medium.com/@devongovett/announcing-parcel-a-blazing-fast-zero-configuration-web-application-bundler-feac43aac0f1)

		ä¸ºäº†è§£å†³åœ¨ `Browserify` å’Œ `Webpack` ç­‰ç°æœ‰æ¨¡å—æ‰“åŒ…å·¥å…·ä¸­é‡åˆ°çš„ä¸¤ä¸ªä¸»è¦é—®é¢˜ï¼š`æ€§èƒ½å’Œé…ç½®ç»éªŒ`ï¼Œä½œè€…å¼€å§‹ç ”ç©¶ `Parcel`

		---
		### ç®€ä»‹

		`Parcel` æ˜¯ä¸€ä¸ªWebåº”ç”¨ç¨‹åº æ‰“åŒ…å™¨(bundler) ï¼Œä¸ä»¥å¾€çš„å¼€å‘äººå‘˜ä½¿ç”¨çš„æ‰“åŒ…å™¨æœ‰æ‰€ä¸åŒã€‚å®ƒåˆ©ç”¨å¤šæ ¸å¤„ç†æä¾›æå¿«çš„æ€§èƒ½ï¼Œå¹¶ä¸”ä½ ä¸éœ€è¦è¿›è¡Œä»»ä½•é…ç½®ã€‚
		
		`å¿«é€Ÿï¼Œé›¶é…ç½®çš„Webåº”ç”¨ç¨‹åºæ‰“åŒ…å™¨ã€‚`
		---
		### ç‰¹æ€§

		- ğŸš€ éå¸¸å¿«çš„æ‰“åŒ…æ—¶é—´ - å¤šæ ¸ç¼–è¯‘ï¼Œä»¥åŠæ–‡ä»¶ç³»ç»Ÿç¼“å­˜ï¼Œè¿™æ ·å³ä½¿åœ¨é‡æ–°å¯åŠ¨åä¹Ÿèƒ½å¿«é€Ÿé‡å»ºã€‚
		- ğŸ“¦ å¯¹äº `JS`, `CSS`, `HTML`, `å›¾ç‰‡`ä»¥åŠ`æ–‡ä»¶èµ„æº`ä»¥åŠå…¶å®ƒæ”¯æŒ`å¼€ç®±å³ç”¨`ï¼Œä¸éœ€è¦å®‰è£…æ’ä»¶ã€‚
		- ğŸ  åœ¨éœ€è¦æ—¶ä½¿ç”¨ `Babel`ï¼Œ`PostCSS` å’Œ `PostHTML` è‡ªåŠ¨è½¬æ¢æ¨¡å— - ç”šè‡³æ˜¯`node_modules`ã€‚
		- âœ‚ï¸  é›¶é…ç½®ä»£ç åˆ†å‰²ä½¿ç”¨åŠ¨æ€`import()` è¯­å¥ã€‚
		- ğŸ”¥ å†…ç½®æ”¯æŒçƒ­åŠ è½½
		- ğŸš¨ å‹å¥½çš„é”™è¯¯æ—¥å¿—ä½“éªŒ - è¯­æ³•é«˜äº®æ˜¾ç¤ºçš„ä»£ç å¸§æœ‰åŠ©äºæŸ¥æ˜é—®é¢˜ã€‚
		---
		### å®‰è£…

		å¯ä»¥ä½¿ç”¨`yarn` æˆ– `npm`å®‰è£… `Parcel`
		
		```js
		yarn global add parcel-bundler
		yarn init -y
		
		npm install -g parcel-bundler
		npm init -y
		```
		---
		## åˆçª¥

		Parcel å¯ä»¥å°†ä»»ä½•ç±»å‹çš„æ–‡ä»¶ä½œä¸ºå…¥å£ç‚¹(`entry point`) ï¼Œä½†æ˜¯ `HTML` æˆ– `JavaScript` æ–‡ä»¶æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ã€‚å¦‚æœä½ ä½¿ç”¨ç›¸å¯¹è·¯å¾„å°†ä½ çš„ä¸» `JavaScript` æ–‡ä»¶é“¾æ¥åˆ° `HTML` ä¸­ï¼Œ`Parcel` ä¹Ÿä¼šä¸ºä½ å¤„ç†ï¼Œå¹¶å°†è¯¥å¼•ç”¨æ›¿æ¢ä¸ºè¾“å‡ºæ–‡ä»¶çš„ `URL` ã€‚

		æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ª`index.html` å’Œ `index.js` æ–‡ä»¶

		```html
		<html>
			<body>
				<script src="./index.js"></script>
			</body>
		</html>
		```
		```js
		//index.js
		console.log("hello world!");
		```

		---

		`Parcel` å†…ç½®äº†ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œè¿™ä¼šåœ¨ä½ æ›´æ”¹æ–‡ä»¶æ—¶è‡ªåŠ¨é‡å»ºä½ çš„åº”ç”¨ç¨‹åºï¼Œå¹¶æ”¯æŒ`æ¨¡å—çƒ­æ›¿æ¢`ï¼Œä»¥ä¾¿ä½ å¿«é€Ÿå¼€å‘ï¼Œä½ åªéœ€è¦åˆ¶å®šå…¥å£æ–‡ä»¶å³å¯ï¼š

		```shell
		parcel index.html
		```

		ä½¿ç”¨`-p <port number>`é€‰é¡¹è¦†ç›–é»˜è®¤ç«¯å£(é»˜è®¤çš„ç«¯å£å·æ˜¯`1234`)ã€‚

		å¦‚æœä½ ä¸éœ€è¦parcelå†…ç½®çš„æœåŠ¡åŒºï¼Œåªæƒ³ç”¨å®ƒçš„çƒ­æ›¿æ¢ï¼Œå¯ä»¥ç›´æ¥ç”¨è§‚å¯Ÿæ¨¡å¼,å®ƒä¸ä¼šå¯åŠ¨webæœåŠ¡å™¨ã€‚

		```shell
		parcel watch index.html
		```
		---
		### èµ„æº

		`Parcel` åŸºäºèµ„æºçš„ã€‚èµ„æºå¯ä»¥ä»£è¡¨ä»»ä½•æ–‡ä»¶ï¼Œä½†`Parcel` å¯¹`JavaScript`, `Css`, `HTML`æ–‡ä»¶ç­‰ç‰¹å®šç±»å‹çš„èµ„æºæœ‰ç‰¹æ®Šçš„æ”¯æŒã€‚`Parcel`è‡ªåŠ¨åˆ†æè¿™äº›æ–‡ä»¶ä¸­å¼•ç”¨çš„ä¾èµ–å…³ç³»ï¼Œå¹¶å°†å…¶åŒ…å«åˆ°è¾“å‡ºåŒ…ä¸­(`output bundle`).ç›¸ä¼¼ç±»å‹çš„èµ„æºè¢«ç»„åˆåœ¨ä¸€èµ·æˆä¸ºç›¸åŒçš„è¾“å‡ºåŒ…ã€‚å¦‚æœæ‚¨å¯¼å…¥ä¸åŒç±»å‹çš„èµ„æº(ä¾‹å¦‚ï¼Œå¦‚æœåœ¨jsä¸­å¯¼å…¥ä¸€ä¸ªcssæ–‡ä»¶)ï¼Œ å®ƒæ–°å»ºä¸€ä¸ªå­åŒ…ï¼Œå¹¶åœ¨çˆ¶çº§ä¸­ä¿ç•™ä¸€ä¸ªå¼•ç”¨ã€‚
		---
		#### JavaScript

		`Web` æ‰“åŒ…å™¨(bundler)æœ€ä¼ ç»Ÿçš„æ–‡ä»¶ç±»å‹æ˜¯`JavaScript`ã€‚`Parcel`æ”¯æŒ`CommonJS`å’Œ`ES6`æ¨¡å—è¯­æ³•æ¥å¯¼å…¥æ–‡ä»¶ã€‚å®ƒè¿˜æ”¯æŒåŠ¨æ€`import()`å‡½æ•°è¯­æ³•æ¥å¼‚æ­¥åŠ è½½æ¨¡å—ã€‚
		
		```js
		//ä½¿ç”¨CommonJSè¯­æ³•å¯¼å…¥æ¨¡å—
		const dep = require('./path/to/dep');
		
		// ä½¿ç”¨ES6 importè¯­æ³•å¯¼å…¥æ¨¡å—
		
		import dep from './path/to/dep';
		```
		
		---

		ä½ ä¹Ÿå¯ä»¥åœ¨`JavaScript`æ–‡ä»¶å¯¼å…¥é`JavaScript`èµ„æºï¼Œä¾‹å¦‚`css`,ç”šè‡³å›¾åƒæ–‡ä»¶ã€‚å½“æ‚¨å¯¼å…¥å…¶ä¸­ä¸€ä¸ªæ–‡ä»¶ï¼Œå®ƒä¸åƒå…¶ä»–ä¸€äº›æ‰“åŒ…å™¨(bundler)ä¸€æ ·å†…æ•›çš„ã€‚ç›¸åï¼Œå®ƒåŠå…¶æ‰€æœ‰ä¾èµ–é¡¹éƒ½è¢«æ”¾ç½®åœ¨ä¸€ä¸ªå•ç‹¬çš„åŒ…(bundle)ï¼Œä¾‹å¦‚ä¸€ä¸ª`css`æ–‡ä»¶ä¸­ã€‚å½“ä½¿ç”¨`css modules`æ—¶ï¼Œå¯¼å‡ºçš„ç±»è¢«æ”¾ç½®åœ¨JavaScriptåŒ…ä¸­ã€‚å…¶ä»–èµ„æºç±»å‹å°†å¯¼å‡ºä¸€ä¸ªURLåˆ°JavaScriptåŒ…çš„è¾“å‡ºæ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥ä½ å¯ä»¥åœ¨ä½ çš„ä»£ç ä¸­å¼•ç”¨ä»–ä»¬ã€‚

		```js
		import './test.css';
		import classNames from './test.css';
		import imageURL from '.test.png';
		```

		---
		#### CSS

		`CSS` èµ„æº å¯ä»¥åœ¨ `JavaScript` æˆ– `HTML` æ–‡ä»¶å¯¼å…¥ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ `@import` è¯­æ³•åŒ…å«å¼•ç”¨çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠé€šè¿‡ `url()` å‡½æ•°å¼•ç”¨å›¾åƒï¼Œå­—ä½“ç­‰ã€‚å…¶ä»–çš„ `@import` çš„ `CSS` æ–‡ä»¶è¢«å†…è”åˆ°åŒä¸€ä¸ª `CSS` åŒ…ä¸­ï¼Œå¹¶ä¸” `url()` å¼•ç”¨è¢«é‡å†™ä¸ºå®ƒä»¬çš„è¾“å‡ºæ–‡ä»¶åã€‚æ‰€æœ‰çš„æ–‡ä»¶ååº”è¯¥æ˜¯ç›¸å¯¹äºå½“å‰çš„ `CSS` æ–‡ä»¶ã€‚
		
		```css
		/* å¯¼å…¥å¦ä¸€ä¸ª CSS æ–‡ä»¶ */
		@import './other.css';
		
		.test {
		  /* å¼•ç”¨ä¸€ä¸ª image æ–‡ä»¶ */
		  background: url('./images/background.png');
		}
		```
		
		é™¤äº†çº¯ `CSS` ï¼Œè¿˜æ”¯æŒå…¶ä»–ç¼–è¯‘æˆ `CSS` è¯­è¨€ï¼Œå¦‚ `LESS` ï¼Œ`SASS` å’Œ `Stylus` ï¼Œå¹¶ä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œã€‚
		---
		#### SCSS

		`SCSS`ç¼–è¯‘éœ€è¦ `node-sass` æ¨¡å—ã€‚å¯ä»¥ç”¨ `npm` æ¥å®‰è£…å®ƒï¼š

		```shell
		npm install node-sass
		```

		ä¸€æ—¦ `node-sass` å®‰è£…å®Œæˆï¼Œä½ å°±å¯ä»¥åœ¨ `JavaScript` æ–‡ä»¶ä¸­å¯¼å…¥ `SCSS` æ–‡ä»¶ã€‚

		```js
		import './custom.scss'
		```

		`SCSS` æ–‡ä»¶ä¸­çš„ä¾èµ–å¯ä»¥ä½¿ç”¨ `@import` è¯­å¥ã€‚
		---
		#### HTML

		`HTML` èµ„æºé€šå¸¸æ˜¯ä½ æä¾›ç»™ `Parcel` çš„å…¥å£æ–‡ä»¶ï¼Œä½†ä¹Ÿå¯ä»¥è¢« `JavaScript` æ–‡ä»¶å¼•ç”¨ï¼Œä¾‹å¦‚ï¼Œæä¾›å…¶ä»–ç½‘é¡µçš„é“¾æ¥ã€‚è„šæœ¬ï¼Œæ ·å¼ï¼Œåª’ä½“å’Œå…¶ä»– `HTML` æ–‡ä»¶çš„ `URL` è¢«æå–å’Œç¼–è¯‘ï¼Œå¦‚ä¸Šæ‰€è¿°ã€‚å¼•ç”¨è¢«é‡å†™åˆ° `HTML` ä¸­ï¼Œä»¥ä¾¿å®ƒä»¬é“¾æ¥åˆ°æ­£ç¡®çš„è¾“å‡ºæ–‡ä»¶ã€‚æ‰€æœ‰çš„æ–‡ä»¶ååº”è¯¥æ˜¯ç›¸å¯¹äºå½“å‰çš„ `HTML` æ–‡ä»¶

		```html
		<html>
		<body>
		<!-- å¼•ç”¨ä¸€ä¸ª image æ–‡ä»¶ -->
		< img src="./images/header.png">

		<a href=" ">Link to another page</a >

		<!-- å¯¼å…¥ä¸€ä¸ª JavaScript åŒ… -->
		<script src="./index.js"></script>
		</body>
		</html>
		```
		---
		### è½¬æ¢

		å°½ç®¡è®¸å¤š æ‰“åŒ…å™¨(bundler) éƒ½è¦æ±‚ä½ å®‰è£…å’Œé…ç½®æ’ä»¶æ¥è½¬æ¢èµ„æºï¼Œ`Parcel` å†…ç½®è®¸å¤šå¸¸ç”¨çš„è½¬æ¢å’Œè½¬è¯‘å™¨ï¼Œè®©ä½ å¼€ç®±å³ç”¨ã€‚ä½ å¯ä»¥ä½¿ç”¨ `Babel` è½¬æ¢ `JavaScript`ï¼Œ`CSS` ä½¿ç”¨ `PostCSS` ï¼Œ`HTML` ä½¿ç”¨ `PostHTML` ã€‚å½“åœ¨æ¨¡å—ä¸­æ‰¾åˆ°é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ `.babelrc` ï¼Œ`.postcssrc` ï¼‰æ—¶ï¼Œ `Parcel` ä¼šè‡ªåŠ¨è¿è¡Œè¿™äº›è½¬æ¢ã€‚

		è¿™ç”šè‡³å¯ä»¥åœ¨ç¬¬ä¸‰æ–¹ `node_modules` ä¸­å·¥ä½œï¼šå¦‚æœé…ç½®æ–‡ä»¶æ˜¯ä½œä¸ºåŒ…çš„ä¸€éƒ¨åˆ†å‘å¸ƒçš„ï¼Œè½¬æ¢ä¼šè‡ªåŠ¨æ‰“å¼€ï¼Œä¸”ä»…é€‚ç”¨äºè¯¥æ¨¡å—ã€‚ç”±äºåªå¤„ç†éœ€è¦è½¬æ¢çš„æ¨¡å—ï¼Œå› æ­¤å¯ä»¥å¿«é€Ÿæ‰“åŒ…ã€‚è¿™ä¹Ÿæ„å‘³ç€æ‚¨ä¸éœ€è¦æ‰‹åŠ¨é…ç½®è½¬æ¢æ¥åŒ…å«å’Œæ’é™¤æŸäº›æ–‡ä»¶ï¼Œæˆ–è€…çŸ¥é“ç¬¬ä¸‰æ–¹ä»£ç æ˜¯å¦‚ä½•æ„å»ºçš„ï¼Œä»¥ä¾¿åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒã€‚
		---
		#### Babel

		`Babel` æ˜¯ä¸€ä¸ªæµè¡Œçš„ `JavaScript` è½¬è¯‘å™¨ï¼Œæ‹¥æœ‰å¤§é‡çš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿã€‚åœ¨ `Parcel` ä¸­ä½¿ç”¨ `Babel` çš„æ–¹å¼ä¸å…¶å•ç‹¬ä½¿ç”¨æˆ–ä¸å…¶ä»–æ‰“åŒ…å™¨é…åˆä½¿ç”¨çš„æ–¹å¼ç›¸åŒã€‚

		åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å®‰è£…é¢„è®¾å’Œæ’ä»¶ï¼š

		```shell
		yarn add babel-preset-env
		```

		ç„¶åï¼Œåˆ›å»ºä¸€ä¸ª `.babelrc` æ–‡ä»¶ï¼š

		```json
		{
			"presets": ["env"]
		}
		```
		---
		#### PostCSS

		`PostCSS` æ˜¯ä¸€ä¸ªç”¨æ’ä»¶è½¬æ¢ `CSS` çš„å·¥å…·ï¼Œæ¯”å¦‚ `autoprefixer`, `cssnext`, å’Œ `CSS Modules`ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹åç§°ä¹‹ä¸€åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œä»è€Œä½¿ `Parcel` ä½¿ç”¨ `PostCSS` é…ç½® ï¼š `.postcssrc (JSON)`, `.postcssrc.js`, æˆ–è€… `postcss.config.js`.

		åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å®‰è£…æ’ä»¶:

		```shell
		yarn add postcss-modules autoprefixer
		```

		ç„¶åï¼Œåˆ›å»ºä¸€ä¸ª `.postcssrc` æ–‡ä»¶

		```json
		{
		"modules": true,
		"plugins": {
			"autoprefixer": {
			"grid": true
			}
		}
		}
		```

		æ’ä»¶æŒ‡å®šåœ¨ `plugins` å¯¹è±¡çš„ `key` ä¸­ï¼Œå¹¶é€‰é¡¹å®šä¹‰ä½¿ç”¨å¯¹è±¡å€¼ã€‚ å¦‚æœæ’ä»¶æ²¡æœ‰é€‰é¡¹ï¼Œåªéœ€å°†å…¶è®¾ç½®ä¸º true å³å¯ã€‚

		---

		Autoprefixer ï¼Œ cssnext å’Œå…¶ä»–å·¥å…·çš„ç›®æ ‡æµè§ˆå™¨å¯ä»¥åœ¨ .browserslistrc æ–‡ä»¶ä¸­æŒ‡å®šï¼š

		```shell
		> 1%
		last 2 versions
		```

		CSS Modules çš„å¯ç”¨æ–¹å¼ç¨æœ‰ä¸åŒï¼Œåœ¨é¡¶çº§ modules key ä¸Šä½¿ç”¨ã€‚è¿™æ˜¯å› ä¸º Parcel éœ€è¦å¯¹ CSS Modules æœ‰ç‰¹æ®Šçš„æ”¯æŒï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿä¼šå¯¼å‡ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«åˆ° JavaScript åŒ…ä¸­ã€‚è¯·æ³¨æ„ï¼Œä½ ä»ç„¶éœ€è¦åœ¨ä½ çš„é¡¹ç›®ä¸­å®‰è£… postcss-modules
		---
		#### PostHTML

		PostHTML æ˜¯ä¸€ä¸ªç”¨æ’ä»¶è½¬æ¢ HTML çš„å·¥å…·ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹åç§°ä¹‹ä¸€åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œä»è€Œä½¿ Parcel ä½¿ç”¨ PostHTML é…ç½® ï¼š.posthtmlrc (JSON), posthtmlrc.js, æˆ–è€… posthtml.config.js.

		åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å®‰è£…æ’ä»¶ï¼š

		```shell
		yarn add posthtml-img-autosize
		```

		ç„¶åï¼Œåˆ›å»ºä¸€ä¸ª .posthtmlrc æ–‡ä»¶ï¼š

		```json
		{
			"plugins": {
				"posthtml-img-autosize": {
					"root": "./images"
				}
			}
		}
		```

		æ’ä»¶æŒ‡å®šåœ¨ plugins å¯¹è±¡çš„ key ä¸­ï¼Œå¹¶é€‰é¡¹å®šä¹‰ä½¿ç”¨å¯¹è±¡å€¼ã€‚ å¦‚æœæ’ä»¶æ²¡æœ‰é€‰é¡¹ï¼Œåªéœ€å°†å…¶è®¾ç½®ä¸º true å³å¯ã€‚
		---
		#### TypeScript

		TypeScript æ˜¯ JavaScript ç±»å‹çš„è¶…é›†ï¼Œå¯ä»¥ç¼–è¯‘æˆæ™®é€šçš„JavaScriptï¼Œå®ƒä¹Ÿæ”¯æŒç°ä»£çš„ ES2015+ ç‰¹æ€§ã€‚ æ— éœ€ä»»ä½•é¢å¤–çš„é…ç½®å³å¯è½¬æ¢ TypeScript 

		```html
		<!-- index.html -->
		<html>
			<body>
				<script src="./index.ts"></script>
			</body>
		</html>
		```

		```js
		// index.ts
		import message from "./message";
		console.log(message);
		```

		```js
		// message.ts
		export default "Hello, world";
		```
		---
		### ä»£ç æ‹†åˆ†(Code Splitting)

		`Parcel` æ”¯æŒé›¶é…ç½®ä»£ç æ‹†åˆ†ï¼Œå¼€ç®±å³ç”¨ã€‚è¿™ä½¿æ‚¨å¯ä»¥å°†ä½ çš„åº”ç”¨ç¨‹åºä»£ç æ‹†åˆ†ä¸ºå¯ä»¥æŒ‰éœ€åŠ è½½çš„ç‹¬ç«‹åŒ…ï¼Œè¿™æ„å‘³ç€æ›´å°çš„åˆå§‹åŒ…å¤§å°å’Œæ›´å¿«çš„åŠ è½½æ—¶é—´ã€‚ å½“ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºä¸­æµè§ˆæ¨¡å—å¹¶éœ€è¦åŠ è½½æ—¶ï¼Œ`Parcel` ä¼šè‡ªåŠ¨è´Ÿè´£æŒ‰éœ€åŠ è½½å­åŒ…ã€‚
		
		ä»£ç æ‹†åˆ†æ˜¯é€šè¿‡ä½¿ç”¨åŠ¨æ€çš„`import()` å‡½æ•°çš„ è¯­æ³•ææ¡ˆ æ¥æ§åˆ¶çš„ï¼Œå®ƒçš„å·¥ä½œæ–¹å¼ä¸æ™®é€šçš„ `import` è¯­å¥æˆ– `require` å‡½æ•°ç±»ä¼¼ï¼Œä½†è¿”å›ä¸€ä¸ª `Promise` ã€‚ è¿™æ„å‘³ç€æ¨¡å—æ˜¯å¼‚æ­¥åŠ è½½çš„ã€‚
		
		
		---
		ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•ä½¿ç”¨åŠ¨æ€å¯¼å…¥æ¥æŒ‰éœ€åŠ è½½åº”ç”¨ç¨‹åºçš„å­é¡µé¢ã€‚
		```js
		//page/about.js

		export function render() {
			//...
		}
		```

		```js
		import ('./pages/about').then(function(page) {
			//...
			page.render();
		})
		```
		---
		ç”±äº`import()`è¿”å›ä¸€ä¸ª`Promise`ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨`async/await`è¯­æ³•ï¼Œä½ å¯èƒ½éœ€è¦é…ç½®`Babel`æ¥ä¼ è¾“è¯­æ³•ï¼Œç›´åˆ°æµè§ˆå™¨å¾—åˆ°å¹¿æ³›çš„æ”¯æŒã€‚
		```js
		const page = await import('./pages/about');
		page.default();

		const pages = {
			about: import('./pages/about'),
			blog: import('./pages/blog')
		};

		async function renderPage(name) {
			const page = await pages[name];
			return page.default();
		}
		```

		å¯¹äº`await/async`çš„æ”¯æŒï¼Œå¼•å…¥`babel-polyfill`æˆ–è€…åœ¨åº“ä¸­å¼•å…¥`babel-runtime + babel-plugin-transform-runtime`

		```js
		npm i babel-polyfill -D
		```
		---
		### æ¨¡å—çƒ­æ›¿æ¢(Hot Module Replacement)

		æ¨¡å—çƒ­æ›¿æ¢ï¼ˆHMRï¼‰é€šè¿‡åœ¨è¿è¡Œæ—¶è‡ªåŠ¨æ›´æ–°æµè§ˆå™¨ä¸­çš„æ¨¡å—ï¼Œè€Œä¸éœ€è¦åˆ·æ–°æ•´ä¸ªé¡µé¢æ¥æ”¹è¿›å¼€å‘ä½“éªŒã€‚ è¿™æ„å‘³ç€åº”ç”¨ç¨‹åºçŠ¶æ€å¯ä»¥åœ¨å°çš„æ›´æ”¹æ—¶ä¿ç•™ã€‚ `Parcel` çš„ `HMR` å®ç°æ”¯æŒå¼€ç®±å³ç”¨çš„`JavaScript` å’Œ `CSS` èµ„æºã€‚ åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹æ‰“åŒ…æ—¶ï¼Œ`HMR` è‡ªåŠ¨è¢«ç¦ç”¨ã€‚

		åœ¨ä¿å­˜æ–‡ä»¶æ—¶ï¼Œ`Parcel` ä¼šé‡å»ºæ‰€æ›´æ”¹çš„å†…å®¹ï¼Œå¹¶å°†æ›´æ–°å‘é€åˆ°åŒ…å«æ–°ä»£ç çš„ä»»ä½•æ­£åœ¨è¿è¡Œçš„å®¢æˆ·ç«¯ã€‚ æ–°çš„ä»£ç ä¼šæ›¿æ¢æ—§ç‰ˆæœ¬ï¼Œå¹¶ä¸æ‰€æœ‰çš„çˆ¶çº§èµ„æºä¸€èµ·é‡æ–°è®¡ç®—ã€‚ ä½ å¯ä»¥ä½¿ç”¨ `module.hot API` æŒ‚æ¥åˆ°è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œè¿™ä¸ª`API`å¯ä»¥åœ¨ä¸€ä¸ªæ¨¡å—å³å°†è¢«ä¸¢å¼ƒæ—¶æˆ–è€…å½“ä¸€ä¸ªæ–°ç‰ˆæœ¬è¿›å…¥æ—¶é€šçŸ¥ä½ çš„ä»£ç ã€‚åƒ `react-hot-loader` è¿™æ ·çš„é¡¹ç›®å¯ä»¥å¸®åŠ©ä½ å®Œæˆè¯¥è¿‡ç¨‹ï¼Œå¹¶é€šè¿‡ `Parcel` å¼€ç®±å³ç”¨ã€‚
		---
		æœ‰ä¸¤ç§å·²çŸ¥çš„æ–¹æ³•ï¼š

		- `module.hot.accept` : è¯¥å‡½æ•°åœ¨æ¨¡å—æˆ–å…¶ä»»ä½•ä¾èµ–é¡¹è¢«æ›´æ–°æ—¶æ‰§è¡Œ 
		- `module.hot.dispose` :  å½“è¯¥æ¨¡å—å³å°†è¢«æ›¿æ¢æ—¶ä¼šè¢«è°ƒç”¨
		
		```js
		if (module.hot) {
		  module.hot.dispose(function () {
			// æ¨¡å—å³å°†è¢«æ›¿æ¢æ—¶
		  });
		
		  module.hot.accept(function () {
			// æ¨¡å—æˆ–å…¶ä¾èµ–é¡¹ä¹‹ä¸€åˆšåˆšæ›´æ–°æ—¶
		  });
		}
		```
		---
		### ç”Ÿäº§ç¯å¢ƒ

		å½“éœ€è¦æ‰“åŒ…åº”ç”¨ç¨‹åºç”¨äºç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ `Parcel` çš„ç”Ÿäº§æ¨¡å¼

		```js
		parcel build entry.js
		```

		è¿™å°†ç¦ç”¨ ç›‘å¬(watch) æ¨¡å¼å’Œæ¨¡å—çƒ­æ›´æ¢ï¼Œæ‰€ä»¥å®ƒåªä¼šæ„å»ºä¸€æ¬¡ã€‚å®ƒè¿˜ä¼šå¼€å¯ `minifier` ç”¨äºå‹ç¼©è¾“å‡ºåŒ…æ–‡ä»¶çš„å¤§å°ã€‚Parcelä½¿ç”¨çš„ `minifiers` åŒ…æ‹¬ç”¨äº `JavaScript` çš„ `uglify-es`ï¼Œç”¨äº `CSS` çš„ `cssnano`ï¼Œå’Œç”¨äº `HTML` çš„ `htmlnano`

		å¯ç”¨ç”Ÿäº§æ¨¡å¼è¿˜éœ€è¦è®¾ç½® `NODE_ENV = production` ç¯å¢ƒå˜é‡ã€‚ åƒ `React` è¿™æ ·çš„å¤§å‹åº“æœ‰å¼€å‘è°ƒè¯•åŠŸèƒ½ï¼Œé€šè¿‡è®¾ç½®è¿™ä¸ªç¯å¢ƒå˜é‡æ¥ç¦ç”¨è°ƒè¯•åŠŸèƒ½ï¼Œä»è€Œä½¿ç”Ÿäº§çš„æ„å»ºæ›´å°æ›´å¿«ã€‚

		---
		#### é…ç½®

		1.è®¾ç½®è¾“å‡ºç›®å½•

		default: 'dist'

		```shell
		parcel build entry.js --out-dir build/output
		æˆ–è€…
		parcel build entry.js -d build/output

		root
		- build
		- - output
		- - - entry.js
		```
			
		2.è®¾ç½®è¦æä¾›æœåŠ¡çš„å…¬å…± URL

		é»˜è®¤: --out-dir option

		```shell
		parcel build entry.js --public-url ./
		```
		```html
		<link rel="stylesheet" type="text/css" href="1a2b3c4d.css">
		<script src="e5f6g7h8.js"></script>
		```

		---

		3.ç¦ç”¨å‹ç¼©

		é»˜è®¤: minification enabled

		```shell
		parcel build entry.js --no-minify
		```

		4.ç¦ç”¨æ–‡ä»¶ç³»ç»Ÿç¼“å­˜

		é»˜è®¤: cache enabled

		```shell
		parcel build entry.js --no-cache
		```

		---
		### é…ç½®

		```json
		// .babelrc
		{
		"presets": ["env", "react"]
		}

		{
		"presets": ["env", "preact"]
		}
		```

		---
		### VS Webpack

		- `Parcel` èƒ½åšåˆ°æ— é…ç½®å®Œæˆä»¥ä¸Šé¡¹ç›®æ„å»ºè¦æ±‚ï¼›
		- `Parcel` å†…ç½®äº†å¸¸è§åœºæ™¯çš„æ„å»ºæ–¹æ¡ˆåŠå…¶ä¾èµ–ï¼Œæ— éœ€å†å®‰è£…å„ç§ä¾èµ–ï¼›
		- `Parcel` èƒ½ä»¥ HTML ä¸ºå…¥å£ï¼Œè‡ªåŠ¨æ£€æµ‹å’Œæ‰“åŒ…ä¾èµ–èµ„æºï¼›
		- `Parcel` é»˜è®¤æ”¯æŒæ¨¡å—çƒ­æ›¿æ¢ï¼ŒçœŸæ­£çš„å¼€ç®±å³ç”¨ï¼›

		è€Œåè§‚ `Webpack`ï¼Œæ¯” `Parcel` è¦éº»çƒ¦å¾ˆå¤šï¼š

		- éœ€è¦å†™ä¸€å †é…ç½®ï¼›
		- éœ€è¦å†å®‰è£…ä¸€å †ä¾èµ–ï¼›
		- ä¸èƒ½ç®€å•çš„è‡ªåŠ¨ç”Ÿæˆ HTMLï¼›
		---
		`Parcel` è¿˜éœ€è¦æ—¶é—´å»æ‰“ç£¨

		- ä¸æ”¯æŒ `SourceMap` ï¼šåœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œ`Parcel` ä¹Ÿä¸ä¼šè¾“å‡º `SourceMap`ï¼Œç›®å‰åªèƒ½å»è°ƒè¯•å¯è¯»æ€§æä½çš„ä»£ç ï¼›
		- ä¸æ”¯æŒå‰”é™¤æ— æ•ˆä»£ç  ( `TreeShaking` )ï¼šå¾ˆå¤šæ—¶å€™æˆ‘ä»¬åªç”¨åˆ°äº†åº“ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç»“æœ `Parcel` æŠŠæ•´ä¸ªåº“éƒ½æ‰“åŒ…äº†è¿›æ¥ï¼›
		- ä¸€äº›ä¾èµ–ä¼š è®©`Parcel` å‡ºé”™ï¼šå½“ä½ çš„é¡¹ç›®ä¾èµ–äº†ä¸€äº› `Npm` ä¸Šçš„æ¨¡å—æ—¶ï¼Œæœ‰äº› `Npm` æ¨¡å—ä¼šè®© `Parcel` è¿è¡Œé”™è¯¯ï¼›
		---
		`Parcel` éœ€è¦ä¸ºé›¶é…ç½®ä»˜å‡ºä»£ä»·

		- ä¸å®ˆè§„çŸ©çš„ node_module 
		- ä¸çµæ´»çš„é…ç½®
		---
		Parcel ä½¿ç”¨åœºæ™¯å—é™

		ç›®å‰ Parcel åªèƒ½ç”¨æ¥æ„å»ºç”¨äºè¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„ç½‘é¡µï¼Œè¿™ä¹Ÿæ˜¯ä»–çš„å‡ºå‘ç‚¹å’Œä¸“æ³¨ç‚¹ã€‚

		åœ¨è½¯ä»¶è¡Œä¸šä¸å¯èƒ½å­˜åœ¨å³ä½¿ç”¨ç®€å•åˆå¯ä»¥é€‚åº”å„ç§åœºæ™¯çš„æ–¹æ¡ˆï¼Œå°±ç®—æ‰€è°“çš„äººå·¥æ™ºèƒ½ä¹Ÿè®¸èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†äººå·¥æ™ºèƒ½ä¸èƒ½ä¿è¯ 100% çš„æ­£ç¡®æ€§ã€‚

		åè§‚ Webpack é™¤äº†ç”¨äºæ„å»ºç½‘é¡µï¼Œè¿˜å¯ä»¥åšï¼š

		- æ‰“åŒ…å‘å¸ƒåˆ° Npm ä¸Šçš„åº“
		- æ„å»º Node.js åº”ç”¨ ( åŒæ„åº”ç”¨ )
		- æ„å»º Electron åº”ç”¨
		- æ„å»ºç¦»çº¿åº”ç”¨ ( ServiceWorkers )
		---

		æ„å»ºé€Ÿåº¦å’Œè¾“å‡ºæ–‡ä»¶å¤§å°å¯¹æ¯”

		|æ•°æ®é¡¹|	Parcel| Webpack |
		|-- |--|--|
		|ç”Ÿæˆç¯å¢ƒæ„å»ºæ—¶é—´ |	8.310s	 |9.58s |
		|å¼€å‘ç¯å¢ƒå¯åŠ¨æ—¶é—´ |	5.42s |	8.06s |
		|ç›‘å¬å˜åŒ–æ„å»ºæ—¶é—´|	3.17s|	2.87s |
		|ç”Ÿæˆç¯å¢ƒè¾“å‡º JS æ–‡ä»¶å¤§å°|	544K|	274K|
		|ç”Ÿæˆç¯å¢ƒè¾“å‡ºCSS æ–‡ä»¶å¤§å°|	23K	| 23K |

		ä»ä»¥ä¸Šæ•°æ®å¯ä»¥çœ‹å‡ºï¼š `Parcel` æ„å»ºé€Ÿåº¦å¿«ï¼Œä½† `Parcel` è¾“å‡ºæ–‡ä»¶å¤§

		---
		å¯¼è‡´ `Parcel` æ„å»ºé€Ÿåº¦å¿«çš„åŸå› å’Œ iOS æ¯” Android ç”¨èµ·æ¥æ›´æµç•…çš„åŸå› ç±»ä¼¼ï¼š

		`Parcel` å› ä¸ºä¸€ä½“åŒ–å†…ç½®ï¼Œæ‰€ä»¥é›†æˆå’Œä¼˜åŒ–çš„æ›´å¥½ï¼Œè€Œ `Webpack` é€šè¿‡æ’ä»¶å’Œ `Loader` æœºåˆ¶å»è®©ç¬¬ä¸‰æ–¹æ‰©å±•è¿™ä¼šæ‹‰ä½æ€§èƒ½ï¼›
		`Parcel` å†…ç½®å¤šè¿›ç¨‹å¹¶è¡Œæ„å»ºï¼Œè€Œ `Webpack` é»˜è®¤æ˜¯å•è¿›ç¨‹æ„å»º ( Webpack ä¹Ÿæ”¯æŒå¤šè¿›ç¨‹ )ï¼›

		å¯¼è‡´ `Parcel` è¾“å‡º JS æ–‡ä»¶å¤§çš„åŸå› åœ¨äºï¼š

		ä¸æ”¯æŒ `TreeShaking`
		æ„å»ºå‡ºçš„ JS ä¸­å‡ºç°äº†æ‰€æœ‰æ–‡ä»¶çš„åç§°

		[webpack4.0](https://github.com/yulongge/Vampire/blob/master/blog/webpack4.md)

		---
		å½“ç„¶äº†ï¼Œç°åœ¨ä¼°è®¡è¿˜æ²¡æœ‰ç”¨äºç”Ÿäº§ç¯å¢ƒçš„parcelï¼Œå…ˆé©±è€…å›è¸©å¾ˆå¤šå‘ï¼Œparcelè‚¯å®šä¹Ÿä¼šåœ¨ç‰ˆæœ¬æ›´æ–°ä¸­è§£å†³è‡ªå·±çš„ä¸è¶³ã€‚æœŸå¾…ä¸­...

		---
		
		### å‚è€ƒ

		http://www.css88.com/doc/parcel/getting_started.html

		https://segmentfault.com/a/1190000012612891

		---

		## Q & A



		</textarea>
		<script src="https://gnab.github.io/remark/downloads/remark-latest.min.js"></script>
		<script>
			var slideshow = remark.create();
		</script>
		<script>
			document.getElementsByTagName('table')[0].setAttribute("border", 1);
			document.getElementsByTagName('table')[0].setAttribute("cellspacing", 0);
			document.getElementsByTagName('table')[0].setAttribute("cellpadding", 0);
		</script>
	</body>
</html>
